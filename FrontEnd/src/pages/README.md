# 3D 模型测试页面

这个测试页面用于直接在浏览器中查看和测试 3D 模型的渲染效果，特别是停车场(parking.glb)和汽车(car.glb)模型。

## 功能特点

- 加载和渲染 GLB 模型
- WASD 键控制汽车移动
- 鼠标控制视角旋转
- 支持 OrbitControls（拖拽旋转查看模型）
- 自适应窗口大小
- 性能优化

## 安装步骤

1. 在项目根目录运行安装脚本:

```bash
chmod +x setup-threejs.sh
./setup-threejs.sh
```

2. 选择安装方式:

   - 降级 React 到 18 版本（推荐）
   - 使用 legacy-peer-deps 保留 React 19（可能存在兼容性问题）

3. 将模型文件放入`public/models/`目录:
   - parking.glb - 停车场模型
   - car.glb - 汽车模型

## 使用说明

1. 启动开发服务器:

```bash
npm run dev
```

2. 在浏览器中访问测试页面:

```
http://localhost:5173/test
```

3. 控制说明:
   - W: 前进
   - S: 后退
   - A: 左转
   - D: 右转
   - 鼠标拖拽: 旋转相机查看模型
   - 鼠标滚轮: 缩放视图

## 模型要求

- 模型格式: GLB
- 模型大小: 尽量控制在几 MB 以内，避免加载时间过长
- 模型比例: 汽车模型尺寸应合理，与停车场比例协调

## 故障排除

如果模型不显示或显示不正确:

1. 确认模型文件存在于`public/models/`目录
2. 检查浏览器控制台是否有加载错误
3. 尝试使用简易备用模型进行测试
4. 确保模型文件没有损坏，可在其他 3D 查看器中测试

## 注意事项

- WebGL 性能与硬件有关，低配置设备可能导致渲染卡顿
- 大型模型加载可能需要较长时间
- 在生产环境中，应优化模型大小和复杂度
